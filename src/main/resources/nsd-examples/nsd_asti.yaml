---
nsdIdentifier: "nsd_asti"
designer: "NXW"
version: "0.1"
nsdName: "vCDN_TIMEO_BLUESPACE"
nsdInvariantId: "vCDN_TIMEO_BLUESPACE_01"
vnfdId:
- "vCacheMid_01"
- "vCacheEdge_1_01"
- "vCacheEdge_2_01"
pnfdId:
- "pDNS_v01"
- "pOrigin_v01"
sapd:
- cpdId: "SapRanVs"
  layerProtocol: "IPV4"
  cpRole: "ROOT"
  description: "Management SAP for all the vCDN VNFs"
  addressData:
  - addressType: "IP_ADDRESS"
    iPAddressAssignment: false
    floatingIpActivated: true
    management: false
    iPAddressType: "IPv4"
    numberOfIpAddress: 1
  sapAddressAssignment: false
  nsVirtualLinkDescId: "vl_ran"
- cpdId: "SapUsers"
  layerProtocol: "IPV4"
  cpRole: "ROOT"
  description: "SAP interconnecting to the CDN clients"
  addressData:
  - addressType: "IP_ADDRESS"
    iPAddressAssignment: false
    floatingIpActivated: true
    management: false
    iPAddressType: "IPv4"
    numberOfIpAddress: 1
  sapAddressAssignment: false
  nsVirtualLinkDescId: "vl_users"
virtualLinkDesc:
- virtualLinkDescId: "vl_mgmt"
  virtualLinkDescProvider: "NXW"
  virtuaLinkDescVersion: "0.1"
  connectivityType:
    layerProtocol: "IPV4"
    flowPattern: null
  virtualLinkDf:
  - flavourId: "vl_df_mgmt"
    qos:
      latency: 0
      packetDelayVariation: 0
      packetLossRatio: 0
      priority: 0
    serviceAvaibilityLevel: "LEVEL_1"
  description: "Management network"
- virtualLinkDescId: "vl_users"
  virtualLinkDescProvider: "NXW"
  virtuaLinkDescVersion: "0.1"
  connectivityType:
    layerProtocol: "IPV4"
    flowPattern: null
  virtualLinkDf:
  - flavourId: "vl_df_users"
    qos:
      latency: 0
      packetDelayVariation: 0
      packetLossRatio: 0
      priority: 0
    serviceAvaibilityLevel: "LEVEL_1"
  description: "Network to connect to the users"
- virtualLinkDescId: "vl_cache"
  virtualLinkDescProvider: "NXW"
  virtuaLinkDescVersion: "0.1"
  connectivityType:
    layerProtocol: "IPV4"
    flowPattern: null
  virtualLinkDf:
  - flavourId: "vl_df_cache"
    qos:
      latency: 0
      packetDelayVariation: 0
      packetLossRatio: 0
      priority: 0
    serviceAvaibilityLevel: "LEVEL_1"
  description: "Network for retrieving videos from CacheMid server"
- virtualLinkDescId: "vl_origin"
  virtualLinkDescProvider: "NXW"
  virtuaLinkDescVersion: "0.1"
  connectivityType:
    layerProtocol: "IPV4"
    flowPattern: null
  virtualLinkDf:
  - flavourId: "vl_df_origin"
    qos:
      latency: 0
      packetDelayVariation: 0
      packetLossRatio: 0
      priority: 0
    serviceAvaibilityLevel: "LEVEL_1"
  description: "Network for retrieving videos from Origin server"
monitoredInfo:
- monitoringParameter:
    monitoringParameterId: "mp_CurrentClientConnections.vCacheEdge_1_01"
    name: "CurrentClientConnections.vCacheEdge_1"
    performanceMetric: "CurrentClientConnections.vCacheEdge_1_01"
- monitoringParameter:
    monitoringParameterId: "mp_CompletedRequests.vCacheEdge_1_01"
    name: "CurrentClientConnections.vCacheEdge_1"
    performanceMetric: "CompletedRequests.vCacheEdge_1_01"
- monitoringParameter:
    monitoringParameterId: "mp_TotalHits.vCacheEdge_1_01"
    name: "TotalHits.vCacheEdge_1"
    performanceMetric: "TotalHits.vCacheEdge_1_01"
- monitoringParameter:
    monitoringParameterId: "mp_CurrentClientConnections.vCacheEdge_2_01"
    name: "CurrentClientConnections.vCacheEdge_2"
    performanceMetric: "CurrentClientConnections.vCacheEdge_2_01"
- monitoringParameter:
    monitoringParameterId: "mp_CompletedRequests.vCacheEdge_2_01"
    name: "CurrentClientConnections.vCacheEdge_1"
    performanceMetric: "CompletedRequests.vCacheEdge_2_01"
- monitoringParameter:
    monitoringParameterId: "mp_TotalHits.vCacheEdge_2_01"
    name: "TotalHits.vCacheEdge_2"
    performanceMetric: "TotalHits.vCacheEdge_2_01"
autoScalingRule:
- ruleId: "ar1"
  ruleCondition: null
  ruleActions:
  - scaleType: "SCALE_NS"
    scaleNsToLevelData:
      nsInstantiationLevel: "il_vCDN_big"
nsDf:
- nsDfId: "df_vCDN"
  flavourKey: "df_vCDN"
  vnfProfile:
  - vnfProfileId: "RAN"
    vnfdId: "RAN"
    flavourId: "df_vCacheMid"
    instantiationLevel: "il_vCacheMid"
    minNumberOfInstances: 1
    maxNumberOfInstances: 1
    nsVirtualLinkConnectivity:
    - virtualLinkProfileId: "vl_edge"
      cpdId:
      - "CpRanEpc"
    - virtualLinkProfileId: "vl_ran"
      cpdId:
        - "CpRanVs"
  - vnfProfileId: MasterPLC
    vnfdId: MasterPLC
    flavourId: "df_vCacheEdge_1"
    instantiationLevel: "il_vCacheEdge_1"
    minNumberOfInstances: 1
    maxNumberOfInstances: 1
    nsVirtualLinkConnectivity:
    - virtualLinkProfileId: "vl_edge"
      cpdId:
        - "CpMPLC"
  - vnfProfileId: vEPC
    vnfdId: vEPC
    flavourId: "df_vCacheEdge_2"
    instantiationLevel: "il_vCacheEdge_2"
    minNumberOfInstances: 1
    maxNumberOfInstances: 1
    nsVirtualLinkConnectivity:
    - virtualLinkProfileId: "vl_edge"
      cpdId:
        - "CpEPCRan"
    - virtualLinkProfileId: "vl_cloud"
      cpdId:
        - "CpEPCMgmt"
  - vnfProfileId: Mgmt
    vnfdId: Mgmt
    flavourId: "df_vCacheEdge_2"
    instantiationLevel: "il_vCacheEdge_2"
    minNumberOfInstances: 1
    maxNumberOfInstances: 1
    nsVirtualLinkConnectivity:
      - virtualLinkProfileId: "vl_cloud"
        cpdId:
          - "CpMgmtEPC"
      - virtualLinkProfileId: "vl_users"
        cpdId:
          - "CpMgmtUsers"
  virtualLinkProfile:
  - virtualLinkProfileId: "vl_edge"
    virtualLinkDescId: "vl_edge"
    flavourId: "vl_df_mgmt"
    maxBitrateRequirements:
      root: "1"
      leaf: "1"
    minBitrateRequirements:
      root: "1"
      leaf: "1"
  - virtualLinkProfileId: "vl_cloud"
    virtualLinkDescId: "vl_cloud"
    flavourId: "vl_df_users"
    maxBitrateRequirements:
      root: "1"
      leaf: "1"
    minBitrateRequirements:
      root: "1"
      leaf: "1"
  - virtualLinkProfileId: "vl_ran"
    virtualLinkDescId: "vl_ran"
    flavourId: "vl_df_users"
    maxBitrateRequirements:
      root: "1"
      leaf: "1"
    minBitrateRequirements:
      root: "1"
      leaf: "1"
  - virtualLinkProfileId: "vl_users"
    virtualLinkDescId: "vl_users"
    flavourId: "vl_df_users"
    maxBitrateRequirements:
      root: "1"
      leaf: "1"
    minBitrateRequirements:
      root: "1"
      leaf: "1"
  nsInstantiationLevel:
  - nsLevelId: "il_vCDN_big"
    description: "Big instantiation level for the vCDN"
    vnfToLevelMapping:
    - vnfProfileId: "vCacheMid_profile"
      numberOfInstances: 1
    - vnfProfileId: "vCacheEdge_1_profile"
      numberOfInstances: 1
    - vnfProfileId: "vCacheEdge_2_profile"
      numberOfInstances: 1
    virtualLinkToLevelMapping:
    - virtualLinkProfileId: "vl_profile_mgmt"
      bitRateRequirements:
        root: "1"
        leaf: "1"
    - virtualLinkProfileId: "vl_profile_users"
      bitRateRequirements:
        root: "1"
        leaf: "1"
    - virtualLinkProfileId: "vl_profile_cache"
      bitRateRequirements:
        root: "1"
        leaf: "1"
    - virtualLinkProfileId: "vl_profile_origin"
      bitRateRequirements:
        root: "1"
        leaf: "1"
  - nsLevelId: "il_vCDN_small"
    description: "Small instantiation level for the vCDN"
    vnfToLevelMapping:
    - vnfProfileId: "vCacheMid_profile"
      numberOfInstances: 1
    - vnfProfileId: "vCacheEdge_1_profile"
      numberOfInstances: 1
    virtualLinkToLevelMapping:
    - virtualLinkProfileId: "vl_profile_mgmt"
      bitRateRequirements:
        root: "1"
        leaf: "1"
    - virtualLinkProfileId: "vl_profile_users"
      bitRateRequirements:
        root: "1"
        leaf: "1"
    - virtualLinkProfileId: "vl_profile_cache"
      bitRateRequirements:
        root: "1"
        leaf: "1"
    - virtualLinkProfileId: "vl_profile_origin"
      bitRateRequirements:
        root: "1"
        leaf: "1"
  defaultNsInstantiationLevelId: "il_vCDN_big"
  nsProfile:
  - nsProfileId: "ns_profile_vCDN_big"
    nsdId: "vCDN_v01"
    nsDfId: "df_vCDN"
    nsInstantiationLevelId: "il_vCDN_big"
    minNumberOfInstances: 1
    maxNumberOfInstances: 1
  - nsProfileId: "ns_profile_vCDN_small"
    nsdId: "vCDN_v01"
    nsDfId: "df_vCDN"
    nsInstantiationLevelId: "il_vCDN_small"
    minNumberOfInstances: 1
    maxNumberOfInstances: 1
  dependencies:
  - primaryId:
    - "vCacheMid_profile"
    secondaryId:
    - "vCacheEdge_1_profile"
    - "vCacheEdge_2_profile"
  - primaryId:
    - "vCacheEdge_1_profile"
    secondaryId:
    - "vCacheEdge_2_profile"
security:
  signature: "vCDN_NSD_SIGNATURE"
  algorithm: "vCDN_NSD_ALGORITHM"
  certificate: "vCDN_NSD_CERTIFICATE"
